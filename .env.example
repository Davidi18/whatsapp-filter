# ===================
# Required
# ===================
PORT=3000
WEBHOOK_URL=https://n8n.davidvmayer.com/webhook/whatsapp-messages
ADMIN_USERNAME=admin
ADMIN_PASSWORD=your_secure_password

# ===================
# Secondary Webhook (Optional)
# ===================
# Send messages to a second endpoint (e.g., agency-os database)
# Runs in parallel, doesn't block primary webhook
SECONDARY_WEBHOOK_URL=https://agency-os.example.com/api/webhooks/whatsapp

# ===================
# Alerts (Optional but recommended)
# ===================
# Primary alerts webhook (n8n workflow for alerts)
ALERTS_WEBHOOK_URL=https://n8n.davidvmayer.com/webhook/whatsapp-alerts

# Slack webhook for critical alerts
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/xxx/yyy/zzz

# ===================
# Feature Flags
# ===================
# Forward MESSAGES_UPDATE events to n8n (default: false)
ENABLE_MESSAGE_UPDATES=false

# Forward SEND_MESSAGE events to n8n (default: false)
ENABLE_OUTGOING_MESSAGES=false

# Log PRESENCE_UPDATE events (default: false - very noisy)
ENABLE_PRESENCE_LOGGING=false

# ===================
# Logging
# ===================
# Log level: debug, info, warn, error
LOG_LEVEL=info

# Keep recent events in memory (for /api/events/recent)
RECENT_EVENTS_LIMIT=100

# ===================
# Security (Optional)
# ===================
# Comma-separated IP whitelist (empty = allow all)
ALLOWED_IPS=

# ===================
# Instance Info (Optional)
# ===================
# Instance name for identification in alerts
INSTANCE_NAME=main

# Base URL for action links in alerts
BASE_URL=https://whatsapp-filter.strudel.marketing

# ===================
# Mention Detection (Optional)
# ===================
# Enable mention detection for group chats
ENABLE_MENTION_DETECTION=false

# OpenClaw webhook for mentions
MENTION_WEBHOOK_URL=https://your-openclaw-url.com/hooks/whatsapp-mention

# API key for mention webhook (optional)
MENTION_API_KEY=your-secret-key

# Keywords to detect (comma-separated)
MENTION_KEYWORDS=דוד,david

# Send mentions ONLY to OpenClaw (don't also forward to n8n)
# If false, mentions go to both OpenClaw AND n8n
MENTION_ONLY_OPENCLAW=true

# ===================
# Environment
# ===================
NODE_ENV=production
